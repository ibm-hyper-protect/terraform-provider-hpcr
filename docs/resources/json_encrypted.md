---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "hpcr_json_encrypted Resource - hpcr"
subcategory: ""
description: |-
  Encrypts and encodes JSON data using Hyper Protect encryption certificates for secure inclusion in Hyper Protect contracts. Protects sensitive JSON configuration from unauthorized access.
---

# hpcr_json_encrypted (Resource)

Encrypts and encodes JSON data using Hyper Protect encryption certificates for secure inclusion in Hyper Protect contracts. This resource ensures that sensitive JSON configuration data remains confidential during deployment to Hyper Protect instances.

## Use Cases

- Encrypt JSON configuration files containing secrets
- Protect sensitive application settings and credentials
- Secure structured data for confidential computing workloads
- Implement zero-trust configuration management

## Platform Support

The `platform` parameter specifies the target Hyper Protect platform:
- `hpvs` (default) - Hyper Protect Virtual Servers
- `hpcr-rhvs` - Hyper Protect Container Runtime
- `hpcc-peerpod` - Hyper Protect Confidential Containers (Peer Pods)

## Example Usage

```terraform
terraform {
  required_providers {
    hpcr = {
      source  = "ibm-hyper-protect/hpcr"
      version = ">= 1.2.0"
    }
  }
}

# Basic encrypted JSON with default certificate
resource "hpcr_json_encrypted" "json_data" {
  json = <<JSON
  {
    "workload" : "value1",
    "env" : "value2"
  }
  JSON
}

output "json_data_rendered" {
  value = hpcr_json_encrypted.json_data.rendered
}

output "json_data_sha256_in" {
  value = hpcr_json_encrypted.json_data.sha256_in
}

output "json_data_sha256_out" {
  value = hpcr_json_encrypted.json_data.sha256_out
}

# Platform-specific encrypted JSON
resource "hpcr_json_encrypted" "json_data_platform" {
  json = <<JSON
  {
    "workload": {
        "compose": {
            "archive": "testing"
        }
    },
    "env": {
        "logging": "testing"
    }
  }
  JSON

  platform = "hpvs"
}

output "json_data_platform_rendered" {
  value = hpcr_json_encrypted.json_data_platform.rendered
}

# Encrypted JSON with custom certificate
resource "hpcr_json_encrypted" "json_data_cert" {
  json = <<JSON
  {
    "workload" : "value1",
    "env" : "value2"
  }
  JSON

  cert = file("./cert/encrypt.crt")
}

output "json_data_cert_rendered" {
  value = hpcr_json_encrypted.json_data_cert.rendered
}
```

## Security Considerations

- Encrypted JSON can only be decrypted by the target Hyper Protect instance
- Sensitive JSON data is marked as sensitive in Terraform state
- Use this resource for any JSON containing credentials, API keys, or PII (Personally Identifiable Information)
- Ensure encryption certificate version matches your target Hyper Protect image version



<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `json` (String, Sensitive) JSON Document to archive

### Optional

- `cert` (String) Certificate used to encrypt the JSON document, in PEM format. Defaults to the latest HPVS image certificate if not specified.
- `platform` (String) Hyper Protect platform where this contract will be deployed. Defaults to hpvs

### Read-Only

- `id` (String) Resource identifier
- `rendered` (String) Rendered output of the resource
- `sha256_in` (String) SHA256 of the input
- `sha256_out` (String) SHA256 of the output
